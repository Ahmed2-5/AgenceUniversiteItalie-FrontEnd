<div class="add-task-container">
  <div class="header">
    <h2 class="text-color"><strong>Add Task</strong></h2>
    <button class="close-button" (click)="close()">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
           stroke-linecap="round" stroke-linejoin="round">
        <line x1="18" y1="6" x2="6" y2="18"></line>
        <line x1="6" y1="6" x2="18" y2="18"></line>
      </svg>
    </button>
  </div> 
  <form [formGroup]="taskForm">

    <div class="form-group">
      <input id="title" class="form-control" formControlName="title" type="text" placeholder="Task title" />
    </div>

    <div class="form-group">
      <textarea id="description" class="form-control" formControlName="description" placeholder="Task description"></textarea>
    </div>

    <div class="form-group">
      <label for="deadline"><strong>Deadline</strong></label>
      <input id="deadline" class="form-control-date" formControlName="deadline" type="datetime-local" />
    </div>

    <!-- Priority Select Dropdown -->
    <div class="form-group">
      <label for="priority"><strong>Priority</strong></label>
      <select id="priority" class="form-control" formControlName="priority">
        <option value="Aucun">Aucun</option>
        <option value="Faible">Faible</option>
        <option value="Moyenne">Moyenne</option>
        <option value="Elevée">Elevée</option>
      </select>
    </div>

    <div class="form-group form-inline">
      <label for="attached"><strong>Attached to :</strong></label>
      <button class="add-btn" (click)="openUsersDialog()">+</button>
      <div class="selected-users">
        <div class="user-bubble" *ngFor="let user of selectedUsers">
          <button class="delete-button" (click)="removeUser(user)">x</button>
          <img [src]="getUserImage(user)" alt="User Image">
        </div>
      </div>
    </div>

    <button class="btn btn-primary" (click)="onSubmit()">Create</button>
  </form>
</div>
