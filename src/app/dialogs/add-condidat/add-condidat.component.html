<div class="page-layout center-screen">
    <div class="form-and-table">
    <!-- Dynamic Add Form --> 
    <div class="add-form-container">
      <div class="header">
        <div class="h3">Ajouter un Candidat</div> <!-- Optional title -->
        <button class="close-button" (click)="closeDialog()">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
               stroke-linecap="round" stroke-linejoin="round">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div> 
      <form #addForm="ngForm">
        <div class="form-group">
          <label>Nom:</label>
          <input type="text" name="nomClient" [(ngModel)]="newClient.nomClient" required />
        </div>

        <div class="form-group">
          <label>Prénom:</label>
          <input type="text" name="prenomClient" [(ngModel)]="newClient.prenomClient" required />
        </div>

        <div class="form-group">
          <label>Date de naissance:</label>
          <input type="date" name="dateNaissanceClient" [(ngModel)]="newClient.dateNaissanceClient" required />
        </div>

        <div class="form-group">
          <label>Email:</label>
          <input type="email" name="emailClient" [(ngModel)]="newClient.emailClient" required />
        </div>

        <div class="form-group">
          <label>Téléphone:</label>
          <input type="text" name="telephoneClient" [(ngModel)]="newClient.telephoneClient" required />
        </div>

        <div class="form-group">
          <label>Code postal:</label>
          <input type="text" name="codePostale" [(ngModel)]="newClient.codePostale" required />
        </div>

        <div class="form-group">
          <label>Adresse:</label>
          <input type="text" name="adresseClient" [(ngModel)]="newClient.adresseClient" required />
        </div>

        <div class="form-group">
          <label>Langue:</label>
          <select name="langue" [(ngModel)]="newClient.langue" required>
            <option value="">-- Choisir --</option>
            <option *ngFor="let l of langues" [value]="l">{{ l }}</option>
          </select>
        </div>

        <div class="form-group">
          <label>Service:</label>
          <select name="service" [(ngModel)]="newClient.service" required>
            <option value="">-- Choisir --</option>
            <option *ngFor="let s of services" [value]="s">{{ s }}</option>
          </select>
        </div>

        <div class="form-group">
          <label>Référence:</label>
          <input type="text" name="reference" [(ngModel)]="newClient.reference" />
        </div>

        <div class="form-group">
          <label>Ville:</label>
          <select name="villeClient" [(ngModel)]="newClient.villeClient" required>
            <option value="">-- Choisir une ville --</option>
            <option *ngFor="let ville of villes" [value]="ville">{{ ville }}</option>
          </select>
        </div>

        <div class="form-group form-inline">
          <label for="attached"><strong>Assigned to :</strong></label>
          <button class="add-btn" (click)="openUsersDialog()">+</button>
          <div class="selected-users" *ngIf="selectedTunisieAdmin">
            <div class="user-bubble">
              <button class="delete-button" (click)="resetAssignedTunisieAdmins()">x</button>
              <img [src]="selectedTunisieAdmin.profileImageUrl" alt="User Image">
              <div>{{ selectedTunisieAdmin.prenom }} {{ selectedTunisieAdmin.nom }}</div>
            </div>
          </div>
          <div class="selected-users" *ngIf="selectedItalieAdmin">
            <div class="user-bubble">
              <button class="delete-button" (click)="resetAssignedItalieAdmins()">x</button>
              <img [src]="selectedItalieAdmin.profileImageUrl" alt="User Image">
              <div>{{ selectedItalieAdmin.prenom }} {{ selectedItalieAdmin.nom }}</div>
            </div>
          </div>
          
          
        </div>

        <div style="display: flex; justify-content: center; margin-top: 15px;">
          <button type="button" class="submit-btn" (click)="submitForm()">Ajouter</button>
        </div>
      </form>
    </div>
  </div>
</div>